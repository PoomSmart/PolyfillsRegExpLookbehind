"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}(function(){if(globalThis.__lookbehind_polyfill_applied)return;globalThis.__lookbehind_polyfill_applied=true;var NativeRegExp=globalThis.RegExp;function hasAnyLookbehind(source){return source.indexOf("(?<")!==-1}function extractLookbehind(source){var lookbehindStart=source.indexOf("(?<");if(lookbehindStart===-1)return null;var typeIndex=lookbehindStart+3;var type=source[typeIndex];if(type!=="="&&type!=="!")return null;var patternStart=typeIndex+1;var patternEnd=source.indexOf(")",patternStart);if(patternEnd===-1)return null;var pattern=source.slice(patternStart,patternEnd);var hasComplexChars=pattern.indexOf("(")!==-1||pattern.indexOf(")")!==-1||pattern.indexOf("|")!==-1||pattern.indexOf("+")!==-1||pattern.indexOf("*")!==-1||pattern.indexOf("?")!==-1||pattern.indexOf("{")!==-1||pattern.indexOf("}")!==-1||pattern.indexOf("[")!==-1||pattern.indexOf("]")!==-1||pattern.indexOf("\\")!==-1;if(hasComplexChars){if(globalThis.__isTest){throw new SyntaxError("Unsupported complex lookbehind: (?<"+type+pattern+")")}return{isComplex:true}}var raw=source.slice(lookbehindStart,patternEnd+1);return{type:type,pattern:pattern,raw:raw,index:lookbehindStart,isComplex:false}}function updateRegExpStatics(match,input){var left=input.slice(0,match.index);var right=input.slice(match.index+match[0].length);var props={input:input,leftContext:left,rightContext:right,lastMatch:match[0],lastParen:match[match.length-1]||""};for(var _i=0,_Object$entries=Object.entries(props);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];try{globalThis.RegExp[key]=value}catch(e){}}if(NativeRegExp!==globalThis.RegExp){for(var _i2=0,_Object$entries2=Object.entries(props);_i2<_Object$entries2.length;_i2++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),_key=_Object$entries2$_i[0],_value=_Object$entries2$_i[1];try{NativeRegExp[_key]=_value}catch(e){}}}for(var i=1;i<=9;i++){var _value2=match[i]||"";try{globalThis.RegExp["$".concat(i)]=_value2}catch(e){}if(NativeRegExp!==globalThis.RegExp){try{NativeRegExp["$".concat(i)]=_value2}catch(e){}}}}function RegExp(pattern,flags){if(this instanceof RegExp){var source,inputFlags;if(pattern&&_typeof(pattern)==="object"&&pattern.constructor===NativeRegExp){source=pattern.source;inputFlags=flags!==undefined?flags:pattern.flags}else{source=pattern+"";inputFlags=(flags||"")+""}var lookbehindInfo=extractLookbehind(source);if(lookbehindInfo&&lookbehindInfo.isComplex){try{var _nativeRegExp=new NativeRegExp(source,inputFlags);Object.defineProperty(this,"_regexp",{value:_nativeRegExp});Object.defineProperty(this,"_originalSource",{value:source});Object.defineProperty(this,"_flags",{value:inputFlags});Object.defineProperty(this,"_lookbehindInfo",{value:null});return}catch(e){var _sourceWithoutLB=source;while(_sourceWithoutLB.indexOf("(?<")!==-1){var start=_sourceWithoutLB.indexOf("(?<");var end=_sourceWithoutLB.indexOf(")",start);if(end===-1)break;_sourceWithoutLB=_sourceWithoutLB.slice(0,start)+_sourceWithoutLB.slice(end+1)}var _nativeRegExp2=new NativeRegExp(_sourceWithoutLB,inputFlags);Object.defineProperty(this,"_regexp",{value:_nativeRegExp2});Object.defineProperty(this,"_originalSource",{value:source});Object.defineProperty(this,"_flags",{value:inputFlags});Object.defineProperty(this,"_lookbehindInfo",{value:null});return}}var sourceWithoutLB=lookbehindInfo&&!lookbehindInfo.isComplex?source.slice(0,lookbehindInfo.index)+source.slice(lookbehindInfo.index+lookbehindInfo.raw.length):source;var nativeRegExp=new NativeRegExp(sourceWithoutLB,inputFlags);Object.defineProperty(this,"_regexp",{value:nativeRegExp});Object.defineProperty(this,"_originalSource",{value:source});Object.defineProperty(this,"_flags",{value:inputFlags});Object.defineProperty(this,"_lookbehindInfo",{value:lookbehindInfo})}else{return new RegExp(pattern,flags)}}RegExp.toString=function(){return"function RegExp() { [lookbehind polyfilled code] }"};RegExp.prototype=Object.create(NativeRegExp.prototype);Object.defineProperty(RegExp.prototype,"global",{enumerable:true,get:function get(){return this._regexp?this._regexp.global:Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"global").get.call(this)}});Object.defineProperty(RegExp.prototype,"ignoreCase",{enumerable:true,get:function get(){return this._regexp?this._regexp.ignoreCase:Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"ignoreCase").get.call(this)}});Object.defineProperty(RegExp.prototype,"multiline",{enumerable:true,get:function get(){return this._regexp?this._regexp.multiline:Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"multiline").get.call(this)}});Object.defineProperty(RegExp.prototype,"dotAll",{enumerable:true,get:function get(){return this._regexp?this._regexp.dotAll:Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"dotAll").get.call(this)}});Object.defineProperty(RegExp.prototype,"unicode",{enumerable:true,get:function get(){return this._regexp?this._regexp.unicode:Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"unicode").get.call(this)}});Object.defineProperty(RegExp.prototype,"sticky",{enumerable:true,get:function get(){return this._regexp?this._regexp.sticky:Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"sticky").get.call(this)}});Object.defineProperty(RegExp.prototype,"lastIndex",{enumerable:true,get:function get(){return this._regexp?this._regexp.lastIndex:Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"lastIndex").get.call(this)},set:function set(value){if(this._regexp){this._regexp.lastIndex=value}else{Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"lastIndex").set.call(this,value)}}});Object.defineProperty(RegExp.prototype,"flags",{enumerable:true,get:function get(){return this._flags||Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"flags").get.call(this)}});Object.defineProperty(RegExp.prototype,"source",{enumerable:true,get:function get(){return this._originalSource||Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"source").get.call(this)}});RegExp.prototype.toString=function(){return"/"+this.source+"/"+this.flags};RegExp.prototype.exec=function(str){str=str+"";if(!this._regexp){var result=NativeRegExp.prototype.exec.call(this,str);if(result){updateRegExpStatics(result,str)}return result}var info=this._lookbehindInfo;if(!info){var match=this._regexp.exec(str);if(match)updateRegExpStatics(match,str);return match}while(true){var _match=this._regexp.exec(str);if(!_match){return null}var i=_match.index;var behind=str.slice(Math.max(0,i-info.pattern.length),i);var passed=info.type==="="?behind.endsWith(info.pattern):!behind.endsWith(info.pattern);if(passed){_match.index=i;_match.input=str;updateRegExpStatics(_match,str);return _match}if(!this.global){return null}if(_match[0].length===0){this._regexp.lastIndex=i+1}}};RegExp.prototype.test=function(str){if(!this._regexp){return NativeRegExp.prototype.test.call(this,str)}return this.exec(str)!==null};RegExp.prototype.constructor=RegExp;globalThis.RegExp=RegExp;if(globalThis.__lookbehind_patch_native_statics){var originalNativeExec=NativeRegExp.prototype.exec;NativeRegExp.prototype.exec=function(str){var result=originalNativeExec.call(this,str);if(result){updateRegExpStatics(result,str+"")}return result}}var staticProps=["input","leftContext","rightContext","lastMatch","lastParen"];staticProps.forEach(function(prop){if(prop in NativeRegExp){RegExp[prop]=NativeRegExp[prop]}});for(var i=1;i<=9;i++){var prop="$".concat(i);if(prop in NativeRegExp){RegExp[prop]=NativeRegExp[prop]}}var original={replace:String.prototype.replace,match:String.prototype.match,search:String.prototype.search,split:String.prototype.split};String.prototype.replace=function(search,replacement){var str=this+"";if(search instanceof RegExp&&search._lookbehindInfo){var re=search.global?search:new RegExp(search.source,search.flags+"g");var result="",lastIndex=0,match;while(match=re.exec(str)){var _i3=match.index;result+=str.slice(lastIndex,_i3);result+=typeof replacement==="function"?replacement.apply(void 0,_toConsumableArray(match).concat([_i3,str])):original.replace.call(replacement+"",/\$&/g,match[0]);lastIndex=_i3+match[0].length;if(match[0]==="")re.lastIndex++;if(!search.global)break}return result+str.slice(lastIndex)}return original.replace.call(str,search,replacement)};String.prototype.match=function(pattern){var str=this+"";if(!(pattern instanceof RegExp))pattern=new RegExp(pattern);if(pattern.global){var results=[];var m;while(m=pattern.exec(str)){results.push(m[0]);if(m[0]==="")pattern.lastIndex++}return results.length?results:null}return pattern.exec(str)};String.prototype.search=function(pattern){var str=this+"";if(!(pattern instanceof RegExp))pattern=new RegExp(pattern);var m=pattern.exec(str);return m?m.index:-1};String.prototype.split=function(separator,limit){var str=this+"";if(!(separator instanceof RegExp))return original.split.call(str,separator,limit);var re=separator.global?separator:new RegExp(separator.source,separator.flags+"g");var output=[];var lastIndex=0,match;while(match=re.exec(str)){output.push(str.slice(lastIndex,match.index));lastIndex=match.index+match[0].length;if(match[0]==="")re.lastIndex++;if(limit!==undefined&&output.length>=limit)break}output.push(str.slice(lastIndex));return output}})();