"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}(function(){if(globalThis.__lookbehind_polyfill_applied)return;globalThis.__lookbehind_polyfill_applied=true;var NativeRegExp=globalThis.RegExp;var regexReplacements=globalThis.__lookbehind_regex_replacements||[{original:"(?<! cu)bot|(?<! (ya|yandex))search",replacement:"bot|search",flags:"i"},{original:"(?<!\\\\.)@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}",replacement:"(?:[^.]|^)@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}",flags:"g"},{original:"(?<!^\\\\d).{8,}",replacement:"(?![0-9]).{8,}",flags:""},{original:"(?<!file://)https?://[\\\\w.-]+",replacement:"(?!file://)https?://[\\\\w.-]+",flags:"g"},{original:"(?<!@)\\\\b\\\\w+\\\\b",replacement:"(?:^|[^@])\\\\b\\\\w+\\\\b",flags:"g"},{original:"(?<!\\\\.)([a-zA-Z][\\\\w-]*)",replacement:"(?:^|[^.]|\\\\s)([a-zA-Z][\\\\w-]*)",flags:"g"},{original:"(?<!\\\\d)\\\\d+\\\\.\\\\d+",replacement:"(?:^|[^\\\\d])\\\\d+\\\\.\\\\d+",flags:"g"},{original:"(?<! cu)bot",replacement:"bot"},{original:"(?<! (ya|yandex))search",replacement:"search"}];globalThis.__lookbehind_regex_replacements=regexReplacements;globalThis.__lookbehind_partial_replacements=regexReplacements;function normalizeRegexSource(source){return source.replace(/\\\\/g,"\\").replace(/\\s/g,"\\s").replace(/\\d/g,"\\d").replace(/\\./g,"\\.").replace(/\\\^/g,"\\^").replace(/\\\$/g,"\\$").replace(/\\\(/g,"\\(").replace(/\\\)/g,"\\)").replace(/\\\[/g,"\\[").replace(/\\\]/g,"\\]").replace(/\\\{/g,"\\{").replace(/\\\}/g,"\\}").replace(/\\\+/g,"\\+").replace(/\\\*/g,"\\*").replace(/\\\?/g,"\\?").replace(/\\\|/g,"\\|")}function checkForRegexReplacement(source,flags){var normalizedSource=normalizeRegexSource(source);var _iterator=_createForOfIteratorHelper(regexReplacements),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var replacement=_step.value;var normalizedOriginal=normalizeRegexSource(replacement.original);if(normalizedOriginal===normalizedSource){if(replacement.flags!==undefined&&replacement.flags!==flags){continue}return replacement.replacement}}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _iterator2=_createForOfIteratorHelper(regexReplacements),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _replacement=_step2.value;var _normalizedOriginal=normalizeRegexSource(_replacement.original);if(normalizedSource.includes(_normalizedOriginal)){if(_replacement.flags!==undefined&&_replacement.flags!==flags){continue}var originalIndex=source.indexOf(_replacement.original);if(originalIndex!==-1){return source.slice(0,originalIndex)+_replacement.replacement+source.slice(originalIndex+_replacement.original.length)}else{var replacedNormalized=normalizedSource.replace(_normalizedOriginal,_replacement.replacement);return replacedNormalized}}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return null}function extractLookbehind(source){var lookbehindStart=source.indexOf("(?<");if(lookbehindStart===-1)return null;var typeIndex=lookbehindStart+3;var type=source[typeIndex];if(type!=="="&&type!=="!")return null;var patternStart=typeIndex+1;var patternEnd=source.indexOf(")",patternStart);if(patternEnd===-1)return null;var pattern=source.slice(patternStart,patternEnd);var hasComplexChars=pattern.indexOf("(")!==-1||pattern.indexOf(")")!==-1||pattern.indexOf("|")!==-1||pattern.indexOf("+")!==-1||pattern.indexOf("*")!==-1||pattern.indexOf("?")!==-1||pattern.indexOf("{")!==-1||pattern.indexOf("}")!==-1||pattern.indexOf("[")!==-1||pattern.indexOf("]")!==-1||pattern.indexOf("\\")!==-1;if(hasComplexChars){if(globalThis.__isTest){throw new SyntaxError("Unsupported complex lookbehind: (?<"+type+pattern+")")}return{isComplex:true}}var raw=source.slice(lookbehindStart,patternEnd+1);return{type:type,pattern:pattern,raw:raw,index:lookbehindStart,isComplex:false}}function safeSetProperty(obj,key,value){try{obj[key]=value}catch(e){}}function toString(value){return value+""}function copyStaticProperties(){var staticProps=["input","leftContext","rightContext","lastMatch","lastParen"];staticProps.forEach(function(prop){if(prop in NativeRegExp){RegExp[prop]=NativeRegExp[prop]}});for(var i=1;i<=9;i++){var prop="$".concat(i);if(prop in NativeRegExp){RegExp[prop]=NativeRegExp[prop]}}}function createPropertyGetter(propName){var defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;return function(){if(this._regexp){return this._regexp[propName]}try{return Object.getOwnPropertyDescriptor(NativeRegExp.prototype,propName).get.call(this)}catch(e){return defaultValue}}}function updateRegExpStatics(match,input){var left=input.slice(0,match.index);var right=input.slice(match.index+match[0].length);var props={input:input,leftContext:left,rightContext:right,lastMatch:match[0],lastParen:match[match.length-1]||""};var targets=[globalThis.RegExp];if(NativeRegExp!==globalThis.RegExp){targets.push(NativeRegExp)}for(var _i=0,_targets=targets;_i<_targets.length;_i++){var target=_targets[_i];for(var _i2=0,_Object$entries=Object.entries(props);_i2<_Object$entries.length;_i2++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i2],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];safeSetProperty(target,key,value)}}for(var _i3=0,_targets2=targets;_i3<_targets2.length;_i3++){var _target=_targets2[_i3];for(var i=1;i<=9;i++){safeSetProperty(_target,"$".concat(i),match[i]||"")}}}function createPolyfillRegExpInstance(regexpObj,nativeRegExp,originalSource,flags,lookbehindInfo){Object.defineProperty(regexpObj,"_regexp",{value:nativeRegExp});Object.defineProperty(regexpObj,"_originalSource",{value:originalSource});Object.defineProperty(regexpObj,"_flags",{value:flags});Object.defineProperty(regexpObj,"_lookbehindInfo",{value:lookbehindInfo});Object.defineProperty(regexpObj,"lastIndex",{value:0,writable:true,enumerable:false,configurable:false})}function RegExp(pattern,flags){if(this instanceof RegExp){var source,inputFlags;if(pattern&&_typeof(pattern)==="object"&&pattern.constructor===NativeRegExp){source=pattern.source;inputFlags=flags!==undefined?flags:pattern.flags}else{source=toString(pattern);inputFlags=toString(flags||"")}var replacementSource=checkForRegexReplacement(source,inputFlags);if(replacementSource){var _nativeRegExp=new NativeRegExp(replacementSource,inputFlags);createPolyfillRegExpInstance(this,_nativeRegExp,source,inputFlags,null);return}var lookbehindInfo=extractLookbehind(source);if(lookbehindInfo&&lookbehindInfo.isComplex){try{var _nativeRegExp2=new NativeRegExp(source,inputFlags);createPolyfillRegExpInstance(this,_nativeRegExp2,source,inputFlags,null);return}catch(e){var _sourceWithoutLB=source;while(_sourceWithoutLB.indexOf("(?<")!==-1){var start=_sourceWithoutLB.indexOf("(?<");var end=_sourceWithoutLB.indexOf(")",start);if(end===-1)break;_sourceWithoutLB=_sourceWithoutLB.slice(0,start)+_sourceWithoutLB.slice(end+1)}var _nativeRegExp3=new NativeRegExp(_sourceWithoutLB,inputFlags);createPolyfillRegExpInstance(this,_nativeRegExp3,source,inputFlags,null);return}}var sourceWithoutLB=lookbehindInfo&&!lookbehindInfo.isComplex?source.slice(0,lookbehindInfo.index)+source.slice(lookbehindInfo.index+lookbehindInfo.raw.length):source;var nativeRegExp=new NativeRegExp(sourceWithoutLB,inputFlags);createPolyfillRegExpInstance(this,nativeRegExp,source,inputFlags,lookbehindInfo)}else{return new RegExp(pattern,flags)}}RegExp.toString=function(){return"function RegExp() { [lookbehind polyfilled code] }"};RegExp.prototype=Object.create(NativeRegExp.prototype);var regexpProperties=[{name:"global",defaultValue:undefined},{name:"ignoreCase",defaultValue:undefined},{name:"multiline",defaultValue:undefined},{name:"dotAll",defaultValue:undefined},{name:"unicode",defaultValue:undefined},{name:"sticky",defaultValue:undefined}];regexpProperties.forEach(function(_ref){var name=_ref.name,defaultValue=_ref.defaultValue;Object.defineProperty(RegExp.prototype,name,{enumerable:true,get:createPropertyGetter(name,defaultValue)})});Object.defineProperty(RegExp.prototype,"flags",{enumerable:true,get:function get(){if(this._flags){return this._flags}try{return Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"flags").get.call(this)}catch(e){return""}}});Object.defineProperty(RegExp.prototype,"source",{enumerable:true,get:function get(){if(this._originalSource){return this._originalSource}try{return Object.getOwnPropertyDescriptor(NativeRegExp.prototype,"source").get.call(this)}catch(e){return""}}});RegExp.prototype.toString=function(){return"/"+this.source+"/"+this.flags};RegExp.prototype.exec=function(str){str=toString(str);if(!this._regexp){var result=NativeRegExp.prototype.exec.call(this,str);if(result){updateRegExpStatics(result,str)}return result}var info=this._lookbehindInfo;if(!info){this._regexp.lastIndex=this.lastIndex;var match=this._regexp.exec(str);this.lastIndex=this._regexp.lastIndex;if(match)updateRegExpStatics(match,str);return match}this._regexp.lastIndex=this.lastIndex;while(true){var _match=this._regexp.exec(str);if(!_match){this.lastIndex=this._regexp.lastIndex;return null}var i=_match.index;var behind=str.slice(Math.max(0,i-info.pattern.length),i);var passed=info.type==="="?behind.endsWith(info.pattern):!behind.endsWith(info.pattern);if(passed){_match.index=i;_match.input=str;this.lastIndex=this._regexp.lastIndex;updateRegExpStatics(_match,str);return _match}if(!this.global){this.lastIndex=this._regexp.lastIndex;return null}if(_match[0].length===0){this._regexp.lastIndex=i+1}}};RegExp.prototype.test=function(str){if(!this._regexp){return NativeRegExp.prototype.test.call(this,str)}var result=this.exec(str);return result!==null};RegExp.prototype.constructor=RegExp;globalThis.RegExp=RegExp;if(globalThis.__lookbehind_patch_native_statics){var originalNativeExec=NativeRegExp.prototype.exec;NativeRegExp.prototype.exec=function(str){var result=originalNativeExec.call(this,str);if(result){updateRegExpStatics(result,toString(str))}return result}}copyStaticProperties();var original={replace:String.prototype.replace,match:String.prototype.match,search:String.prototype.search,split:String.prototype.split};String.prototype.replace=function(search,replacement){var str=toString(this);if(search instanceof RegExp&&search._lookbehindInfo){var re=search.global?search:new RegExp(search.source,search.flags+"g");var result="",lastIndex=0,match;while(match=re.exec(str)){var i=match.index;result+=str.slice(lastIndex,i);result+=typeof replacement==="function"?replacement.apply(void 0,_toConsumableArray(match).concat([i,str])):original.replace.call(toString(replacement),/\$&/g,match[0]);lastIndex=i+match[0].length;if(match[0]==="")re.lastIndex++;if(!search.global)break}return result+str.slice(lastIndex)}return original.replace.call(str,search,replacement)};String.prototype.match=function(pattern){var str=toString(this);if(!(pattern instanceof RegExp))pattern=new RegExp(pattern);if(pattern.global){var results=[];var m;while(m=pattern.exec(str)){results.push(m[0]);if(m[0]==="")pattern.lastIndex++}return results.length?results:null}return pattern.exec(str)};String.prototype.search=function(pattern){var str=toString(this);if(!(pattern instanceof RegExp))pattern=new RegExp(pattern);var m=pattern.exec(str);return m?m.index:-1};String.prototype.split=function(separator,limit){var str=toString(this);if(!(separator instanceof RegExp))return original.split.call(str,separator,limit);var re=separator.global?separator:new RegExp(separator.source,separator.flags+"g");var output=[];var lastIndex=0,match;while(match=re.exec(str)){output.push(str.slice(lastIndex,match.index));lastIndex=match.index+match[0].length;if(match[0]==="")re.lastIndex++;if(limit!==undefined&&output.length>=limit)break}output.push(str.slice(lastIndex));return output}})();